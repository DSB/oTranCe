<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<databaseChangeLog xmlns="http://www.liquibase.org/xml/ns/dbchangelog" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd">
    <changeSet author="kyoya (generated)" id="1338505115609-1">
        <createTable tableName="conversions">
            <column name="text" type="LONGTEXT">
                <constraints nullable="false"/>
            </column>
            <column name="id" type="VARCHAR(128)">
                <constraints nullable="false" primaryKey="true"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kyoya (generated)" id="1338505115609-2">
        <createTable tableName="exportlog">
            <column autoIncrement="true" name="id" type="INT UNSIGNED">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="export_id" type="VARCHAR(128)">
                <constraints nullable="false"/>
            </column>
            <column name="filename" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kyoya (generated)" id="1338505115609-3">
        <createTable tableName="filetemplates">
            <column autoIncrement="true" name="id" type="TINYINT UNSIGNED">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="name" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="header" type="TEXT">
                <constraints nullable="false"/>
            </column>
            <column name="footer" type="TEXT">
                <constraints nullable="false"/>
            </column>
            <column name="content" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="filename" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kyoya (generated)" id="1338505115609-4">
        <createTable tableName="history">
            <column autoIncrement="true" name="id" type="INT UNSIGNED">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="user_id" type="SMALLINT UNSIGNED">
                <constraints nullable="false"/>
            </column>
            <column name="dt" type="DATETIME">
                <constraints nullable="false"/>
            </column>
            <column name="key_id" type="SMALLINT UNSIGNED">
                <constraints nullable="false"/>
            </column>
            <column name="action" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column name="lang_id" type="SMALLINT UNSIGNED">
                <constraints nullable="false"/>
            </column>
            <column name="oldValue" type="TEXT">
                <constraints nullable="false"/>
            </column>
            <column name="newValue" type="TEXT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kyoya (generated)" id="1338505115609-5">
        <createTable tableName="keys">
            <column autoIncrement="true" name="id" type="INT UNSIGNED">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="key" type="VARCHAR(200)">
                <constraints nullable="false"/>
            </column>
            <column name="template_id" type="TINYINT">
                <constraints nullable="false"/>
            </column>
            <column name="dt" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kyoya (generated)" id="1338505115609-6">
        <createTable tableName="languages">
            <column autoIncrement="true" name="id" type="SMALLINT UNSIGNED">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column defaultValueBoolean="true" name="active" type="BIT">
                <constraints nullable="false"/>
            </column>
            <column name="locale" type="VARCHAR(5)">
                <constraints nullable="false"/>
            </column>
            <column name="name" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="flag_extension" type="VARCHAR(255)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueNumeric="0" name="is_fallback" type="TINYINT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kyoya (generated)" id="1338505115609-7">
        <createTable tableName="translations">
            <column name="lang_id" type="SMALLINT UNSIGNED">
                <constraints nullable="false"/>
            </column>
            <column name="key_id" type="SMALLINT UNSIGNED">
                <constraints nullable="false"/>
            </column>
            <column name="text" type="LONGTEXT">
                <constraints nullable="false"/>
            </column>
            <column name="dt" type="DATETIME">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kyoya (generated)" id="1338505115609-8">
        <createTable tableName="user_languages">
            <column name="user_id" type="INT UNSIGNED">
                <constraints nullable="false"/>
            </column>
            <column name="language_id" type="INT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kyoya (generated)" id="1338505115609-9">
        <createTable tableName="userrights">
            <column name="user_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="right" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="value" type="SMALLINT UNSIGNED">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kyoya (generated)" id="1338505115609-10">
        <createTable tableName="users">
            <column autoIncrement="true" name="id" type="INT UNSIGNED">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="username" type="VARCHAR(50)">
                <constraints nullable="false"/>
            </column>
            <column name="password" type="VARCHAR(64)">
                <constraints nullable="false"/>
            </column>
            <column defaultValueBoolean="false" name="active" type="BIT">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kyoya (generated)" id="1338505115609-11">
        <createTable tableName="usersettings">
            <column autoIncrement="true" name="id" type="INT UNSIGNED">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="user_id" type="SMALLINT UNSIGNED">
                <constraints nullable="false"/>
            </column>
            <column name="setting" type="VARCHAR(20)">
                <constraints nullable="false"/>
            </column>
            <column name="value" type="VARCHAR(100)">
                <constraints nullable="false"/>
            </column>
        </createTable>
    </changeSet>
    <changeSet author="kyoya (generated)" id="1338505115609-12">
        <addPrimaryKey columnNames="lang_id, key_id" tableName="translations"/>
    </changeSet>
    <changeSet author="kyoya (generated)" id="1338505115609-13">
        <createIndex indexName="export_id" tableName="exportlog" unique="false">
            <column name="export_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="kyoya (generated)" id="1338505115609-14">
        <createIndex indexName="tpl_assign" tableName="keys" unique="false">
            <column name="template_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="kyoya (generated)" id="1338505115609-15">
        <createIndex indexName="locale" tableName="languages" unique="true">
            <column name="locale"/>
        </createIndex>
    </changeSet>
    <changeSet author="kyoya (generated)" id="1338505115609-16">
        <createIndex indexName="user_id" tableName="user_languages" unique="true">
            <column name="user_id"/>
            <column name="language_id"/>
        </createIndex>
    </changeSet>
    <changeSet author="kyoya (generated)" id="1338505115609-17">
        <createIndex indexName="user_id" tableName="userrights" unique="true">
            <column name="user_id"/>
            <column name="right"/>
        </createIndex>
    </changeSet>
    <changeSet author="kyoya (generated)" id="1338505115609-18">
        <createIndex indexName="username" tableName="users" unique="true">
            <column name="username"/>
        </createIndex>
    </changeSet>
</databaseChangeLog>
